@using EPiServer.Core
@using EPiServer.Web.Mvc.Html

@model Ferrara.Sites.Keebler.KeeblerDestiniButtonBlock.KeeblerDestiniButtonBlock

    <div class="buy-now-container" id="@Model.CustomIdDestiniButton">
        <button type="button" data-toggle="modal" data-target="#@Model.ModalID" class="active-oval-filled-red"
                onclick="destiniFunction('destinidiv', '@Model.DestiniProductID')">
            @Model.ButtonLabel
        </button>
    </div>

    <!-- Where to Buy Modal -->
    <div class="modal fade" id="@Model.ModalID" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-backdrop="false">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div id="destinidiv" src=""></div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>
   
    <script>
        function destiniFunction(containerId, associationId) {
            destini.init(containerId);
            destini.loadWidget(associationId);
        }
    </script>